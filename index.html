<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HSQCGSBRLH"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('consent', 'default', {
            'ad_user_data': 'denied',
            'ad_personalization': 'denied',
            'ad_storage': 'denied',
            'analytics_storage': 'denied',
            'wait_for_update': 500,
        });
        gtag('js', new Date());
        gtag('config', 'G-HSQCGSBRLH');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4685141627704540" crossorigin="anonymous"></script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Open Multiple Links</title>
    <meta name="description" content="Simple helper to open and share multiple links">
    <meta name="author" content="Zlatibor Veljkovic">

    <meta property="og:title" content="Open Multiple Links">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://open-multiple-links.com/">
    <meta property="og:description" content="Simple helper to open and share multiple links">
    <meta property="og:image" content="logo.jpg">

    <link rel="icon" href="/favicon.ico">
    <style>
        #wrapper {
            width: 80vw;
            margin: 0 auto;
        }
        h1 {text-align: center; color: #444444}

        #text {
            width: 100%;
            height: 50vh;
            display: block;
            margin-bottom: 16px;
            border: 1px solid #cacaca;
        }

        @keyframes glowing-button-85 {
            0% { background-position: 0 0; }
            50% { background-position: 400% 0; }
            100% { background-position: 0 0; }
        }

        #open, #share {
           padding: 0.6em 2em;
           border: none;
           outline: none;
           color: rgb(255, 255, 255);
           background: #111;
           cursor: pointer;
           position: relative;
           z-index: 0;
           border-radius: 10px;
           user-select: none;
           -webkit-user-select: none;
           touch-action: manipulation;
       }

        #open:before, #share:before {
            content: "";
            background: linear-gradient(
                    45deg,
                    #ff0000,
                    #ff7300,
                    #fffb00,
                    #48ff00,
                    #00ffd5,
                    #002bff,
                    #7a00ff,
                    #ff00c8,
                    #ff0000
            );
            position: absolute;
            top: -2px;
            left: -2px;
            background-size: 400%;
            z-index: -1;
            filter: blur(5px);
            -webkit-filter: blur(5px);
            width: calc(100% + 4px);
            height: calc(100% + 4px);
            animation: glowing-button-85 20s linear infinite;
            transition: opacity 0.3s ease-in-out;
            border-radius: 10px;
        }


        #open:after, #share:after {
            z-index: -1;
            content: "";
            position: absolute;
            width: 100%;
            height: 100%;
            background: #222;
            left: 0;
            top: 0;
            border-radius: 10px;
        }
        #share:after {
            background: #002bff;
        }
        #share {float: right}

        #clipboard-notice {
            opacity: 0;
            visibility: hidden;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translateX(-50%) translateY(-50%);
            transition: opacity 1s;
            padding: 20px;
            background: #c4ffac;
            border-radius: 30px;
        }
        #clipboard-notice.visible {
            opacity: 0.8;
            visibility: visible;
        }

        #consent-dialog {
            background-color: #ffffff;
            padding: 20px;
            box-sizing: border-box;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            position: fixed;
            bottom: 0;
            width: 100%;
            visibility: hidden;
            opacity: 0;
            transition: opacity 1s;
        }

        #consent-dialog.visible {
            opacity: 1;
            visibility: visible;
        }
        #consent-dialog h1 {
            font-size: 24px;
            margin-bottom: 20px;
        }

        #consent-dialog p {
            margin-bottom: 15px;
        }

        #consent-dialog label {
            display: block;
        }

        #consent-dialog input[type="checkbox"] {
            margin-right: 10px;
        }

        #consent-dialog button {
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            margin-right: 10px;
        }

        #consent-dialog #allow-all {
            background-color: #4CAF50;
            color: white;
        }

        #consent-dialog #continue {
            background-color: #008CBA;
            color: white;
        }

        #consent-dialog button:hover {
            opacity: 0.8;
        }
    </style>
</head>

<body>
    <div id="wrapper">
        <h1>Open multiple links</h1>
        <p>Please verify that you have allowed opening popups from this site.</p>
        <textarea id="text" placeholder="Paste each link on separate line"></textarea>
        <button id="open">Open</button>
        <button id="share">Share</button>
        <div id="clipboard-notice">Successfully copied to clipboard</div>
        <div id="ad">
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4685141627704540"
                    crossorigin="anonymous"></script>
            <!-- open-multiple-links.com -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-4685141627704540"
                 data-ad-slot="1077390638"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
    </div>

    <div id="consent-dialog">
        <h1>Consents</h1>
        <p><label for="ad_storage"><input id="ad_storage" type="checkbox" /><b>Ad Storage</b> Enables storage (such as cookies) related to advertising.</label></p>
        <p><label for="ad_user_data"><input id="ad_user_data" type="checkbox" /><b>Ad User Data</b> Sets consent for sending user data related to advertising to Google.</label></p>
        <p><label for="ad_personalization"><input id="ad_personalization" type="checkbox" /><b>Ad Personalization</b> Sets consent for personalized advertising.</label></p>
        <p><label for="analytics_storage"><input id="analytics_storage" type="checkbox" /><b>Analytics Storage</b> Enables storage (such as cookies) related to analytics e.g. visit duration.</label></p>
<!--        <p><label for="functionality_storage"><input id="functionality_storage" type="checkbox" /><b>Functionality Storage</b> Enables storage that supports the functionality of the website or app such as language settings.</label></p>-->
<!--        <p><label for="personalization_storage"><input id="personalization_storage" type="checkbox" /><b>Personalization Storage</b> Enables storage related to personalization e.g. video recommendations.</label></p>-->
<!--        <p><label for="security_storage"><input id="security_storage" type="checkbox" /><b>Security Storage</b> Enables storage related to security such as authentication functionality, fraud prevention, and other user protection.</label></p>-->
        <button id="allow-all">Allow all</button>
        <button id="continue">Continue</button>
    </div>
    <script>
        const consentCheck = function () {
            const consentDialogShown = localStorage.getItem('consentDialogShown');
            if (consentDialogShown === 'true') {
                gtag('consent', 'update', {
                    ad_user_data: localStorage.getItem("adUserData"),
                    ad_personalization: localStorage.getItem("adPersonalization"),
                    ad_storage: localStorage.getItem("adStorage"),
                    analytics_storage: localStorage.getItem("analyticsStorage"),
                });
                return;
            }
            document.getElementById('consent-dialog').classList.add('visible')

            const elConsentContinue = document.getElementById('continue');
            const elConsentAllowAll = document.getElementById('allow-all');
            const consentDone = function () {
                const adUserData = document.getElementById('ad_user_data').checked ? 'granted' : 'denied';
                const adPersonalization = document.getElementById('ad_personalization').checked ? 'granted' : 'denied';
                const adStorage = document.getElementById('ad_storage').checked ? 'granted' : 'denied';
                const analyticsStorage = document.getElementById('analytics_storage').checked ? 'granted' : 'denied';
                localStorage.setItem("consentDialogShown", "true");
                localStorage.setItem("adUserData", adUserData);
                localStorage.setItem("adPersonalization", adPersonalization);
                localStorage.setItem("adStorage", adStorage);
                localStorage.setItem("analyticsStorage", analyticsStorage);

                function gtag() { dataLayer.push(arguments); }

                gtag('consent', 'update', {
                    ad_user_data: adUserData,
                    ad_personalization: document.getElementById('ad_personalization').checked ? 'granted' : 'denied',
                    ad_storage: document.getElementById('ad_storage').checked ? 'granted' : 'denied',
                    analytics_storage: document.getElementById('analytics_storage').checked ? 'granted' : 'denied',
                });

                document.getElementById('consent-dialog').style.display = 'none';

                // Load gtag.js script.
                var gtagScript = document.createElement('script');
                gtagScript.async = true;
                gtagScript.src = 'https://www.googletagmanager.com/gtag/js?id=G-HSQCGSBRLH';

                var firstScript = document.getElementsByTagName('script')[0];
                firstScript.parentNode.insertBefore(gtagScript,firstScript);
            }
            elConsentContinue.onclick = consentDone;
            elConsentAllowAll.onclick = function (){
                debugger;
                document.getElementById('ad_user_data').checked = true;
                document.getElementById('ad_personalization').checked = true;
                document.getElementById('ad_storage').checked = true;
                document.getElementById('analytics_storage').checked = true;
                consentDone();
            };
        }
        consentCheck();
    </script>
    <script>
        const elText = document.getElementById('text');
        const elClipboardNotice = document.getElementById('clipboard-notice');

        const urlParams = new URLSearchParams(window.location.search);
        const links = urlParams.getAll('links[]');
        let startText = '';
        for (const l of links) {
            startText += l + '\r\n';
        }
        elText.value = startText;
        elText.oninput = function (event) {
            const linksQS = elText.value
                .split('\n')
                .filter(function (line){
                   return line.trim() !== ''
                }).map(function(line){
                    return 'links[]=' + encodeURIComponent(line);
                }).join('&');
            window.history.replaceState(null, null, window.location.origin + window.location.pathname + '?'+linksQS);
        }
        const openTabs = function () {
            const links = elText.value
                .split('\n')
                .filter(function (line){
                    return line.trim() !== ''
                });
            links.forEach(function (link){
                window.open(link, '_blank');
            })
        }
        document.getElementById('open').onclick = openTabs;
        const share = function() {
            navigator.clipboard.writeText(window.location.toString());
            elClipboardNotice.classList.add('visible');
            setTimeout(function () {
                elClipboardNotice.classList.remove('visible');
            }, 3000);
        }
        document.getElementById('share').onclick = share;
    </script>
    <script>

    </script>
</body>
</html>